/**
 * åº•éƒ¨å¯¼èˆªæ ç»„ä»¶ - åŸºäºŽ Sample_Frontend BottomNav è®¾è®¡
 */

import router from '@ohos.router'
import { Theme } from '../common/theme'

export interface BottomNavProps {
  currentIndex: number  // 0: Home, 1: History, 2: Settings
}

@Component
export struct BottomNav {
  @Prop currentIndex: number = 0

  build() {
    Row() {
      // History æŒ‰é’® (å·¦ä¾§)
      Column({ space: 2 }) {
        Text('ðŸ“Š')
          .fontSize(22)
        Text('åŽ†å²')
          .fontSize(11)
          .fontColor(this.currentIndex === 1 ? Theme.COLOR_PRIMARY : Theme.COLOR_TEXT_TERTIARY)
      }
      .layoutWeight(1)
      .justifyContent(FlexAlign.Center)
      .alignItems(HorizontalAlign.Center)
      .padding({ top: 10, bottom: 10 })
      .borderRadius(12)
      .backgroundColor(this.currentIndex === 1 ? Theme.COLOR_PRIMARY_BG : Color.Transparent)
      .onClick(() => {
        if (this.currentIndex !== 1) {
          router.replaceUrl({ url: 'pages/HistoryPage' })
        }
      })

      // Home æŒ‰é’® (ä¸­é—´)
      Column({ space: 2 }) {
        Text('ðŸ ')
          .fontSize(22)
        Text('é¦–é¡µ')
          .fontSize(11)
          .fontColor(this.currentIndex === 0 ? Theme.COLOR_PRIMARY : Theme.COLOR_TEXT_TERTIARY)
      }
      .layoutWeight(1)
      .justifyContent(FlexAlign.Center)
      .alignItems(HorizontalAlign.Center)
      .padding({ top: 10, bottom: 10 })
      .borderRadius(12)
      .backgroundColor(this.currentIndex === 0 ? Theme.COLOR_PRIMARY_BG : Color.Transparent)
      .onClick(() => {
        if (this.currentIndex !== 0) {
          router.replaceUrl({ url: 'pages/Index' })
        }
      })

      // Settings æŒ‰é’® (å³ä¾§)
      Column({ space: 2 }) {
        Text('âš™ï¸')
          .fontSize(22)
        Text('è®¾ç½®')
          .fontSize(11)
          .fontColor(this.currentIndex === 2 ? Theme.COLOR_PRIMARY : Theme.COLOR_TEXT_TERTIARY)
      }
      .layoutWeight(1)
      .justifyContent(FlexAlign.Center)
      .alignItems(HorizontalAlign.Center)
      .padding({ top: 10, bottom: 10 })
      .borderRadius(12)
      .backgroundColor(this.currentIndex === 2 ? Theme.COLOR_PRIMARY_BG : Color.Transparent)
      .onClick(() => {
        if (this.currentIndex !== 2) {
          router.replaceUrl({ url: 'pages/SettingsPage' })
        }
      })
    }
    .width('100%')
    .height(64)
    .padding({ left: 8, right: 8 })
    .backgroundColor(Theme.COLOR_CARD_BACKGROUND)
    .border({
      width: { top: 1 },
      color: Theme.COLOR_BORDER
    })
  }
}
